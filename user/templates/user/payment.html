{% extends 'user/shared/base.html' %}


{% block content %}

<!-- Debit/Credit Card Payment template -->
<div class="row my-2">
    <div class="col-sm-6 offset-3 p-5 text-center bg-light shadow my-4">
        <h3>Payment</h3>
        <hr>
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="card_number">Card Number</label>
                <input type="text" pattern="[0-9]{16,16}" title="16 Digit number required" required class="form-control" id="card_number" name="card_number" placeholder="Card Number">
            </div>
            <div class="form-group">
                <label for="card_name">Card Name</label>
                <input type="text" class="form-control" required id="card_name" name="card_name" placeholder="Card Name">
            </div>
            <div class="form-group">
                <label for="expiry_date">Expiry Date</label>
                <input type="date" class="form-control" required id="expiry_date" name="expiry_date" placeholder="Expiry Date">
            </div>
            <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="number" min="100" max="999" required class="form-control" id="cvv" name="cvv" placeholder="CVV">
            </div>
            <div class="form-group">
                <label for="amount">Amount</label>
                <input type="text" readonly class="form-control" value="{{ grand_total }}" id="amount" name="amount" placeholder="Amount">
            </div>
            <button type="submit" class="btn btn-primary">Pay</button>
        </form>
    </div>
</div>

<script>
    $(function() {
        $('#expiry_date').attr('min', new Date().toISOString().split('T')[0]);
    });
</script>

{% endblock content %}